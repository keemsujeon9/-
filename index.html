<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HBDğŸ’¬</title>
    <link rel="stylesheet" href="css/text.css">
</head>

<body>
    <h1>ğŸ’ŒğŸ°ğŸ‡ğŸ‰âœ¨</h1>

    <!-- ê²Œì‹œë¬¼ ì‘ì„± í¼ -->
    <h2>ì¶•í•˜ í•œ ë§ˆë””..</h2>
    <form id="postForm">
        <label for="title">ì´ë¦„</label><br>
        <input type="text" id="title" name="title" required placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”."><br><br>

        <label for="content">ë‚´ìš©</label><br>
        <textarea id="content" name="content" rows="4" cols="50" required placeholder="ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”."></textarea><br><br>

        <button class="btn" type="submit">ë“±ë¡</button>
    </form>

    <!-- ê²Œì‹œë¬¼ ëª©ë¡ -->
    <div class="board" id="board">
        <h2></h2>
    </div>

    <script>
        // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì—ì„œ ì €ì¥ëœ ê²Œì‹œë¬¼ ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¤ê¸°
        function loadPosts() {
            const storedPosts = localStorage.getItem('posts');
            return storedPosts ? JSON.parse(storedPosts) : [];
        }

        // ê²Œì‹œë¬¼ ëª©ë¡ì„ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥í•˜ê¸°
        function savePosts(posts) {
            localStorage.setItem('posts', JSON.stringify(posts));
        }

        // ê²Œì‹œë¬¼ ëª©ë¡ì„ í™”ë©´ì— í‘œì‹œí•˜ëŠ” í•¨ìˆ˜
        function displayPosts() {
            const posts = loadPosts();
            const board = document.getElementById("board");
            board.innerHTML = "<h2>ì–´ì©Œê³  ì €ì©Œê³  ğŸ’¬</h2>"; // ì œëª© ì´ˆê¸°í™”
            posts.forEach((post, index) => {
                const postElement = document.createElement("div");
                postElement.classList.add("post");
                postElement.innerHTML = `<h3>${post.title}</h3><p>${post.content}</p>
                                         <button class="delete-btn" onclick="deletePost(${index})">ì‚­ì œ</button>`;
                board.appendChild(postElement);
            });
        }

        // ê²Œì‹œë¬¼ ì¶”ê°€ í•¨ìˆ˜
        function addPost(title, content) {
            const posts = loadPosts(); // ê¸°ì¡´ ê²Œì‹œë¬¼ ë¶ˆëŸ¬ì˜¤ê¸°
            posts.push({ title, content }); // ìƒˆ ê²Œì‹œë¬¼ ì¶”ê°€
            savePosts(posts); // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥
            displayPosts(); // í™”ë©´ì— ê²Œì‹œë¬¼ í‘œì‹œ
        }

        // ê²Œì‹œë¬¼ ì‚­ì œ í•¨ìˆ˜
        function deletePost(index) {
            const posts = loadPosts(); // ê¸°ì¡´ ê²Œì‹œë¬¼ ë¶ˆëŸ¬ì˜¤ê¸°
            posts.splice(index, 1); // í•´ë‹¹ ì¸ë±ìŠ¤ì˜ ê²Œì‹œë¬¼ ì‚­ì œ
            savePosts(posts); // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì—…ë°ì´íŠ¸ëœ ëª©ë¡ ì €ì¥
            displayPosts(); // í™”ë©´ì— ê²Œì‹œë¬¼ ëª©ë¡ ë‹¤ì‹œ í‘œì‹œ
        }

        // í¼ ì œì¶œ ì‹œ ê²Œì‹œë¬¼ ì¶”ê°€
        document.getElementById("postForm").addEventListener("submit", function (event) {
            event.preventDefault(); // í¼ ê¸°ë³¸ ì œì¶œ ë°©ì§€

            const title = document.getElementById("title").value;
            const content = document.getElementById("content").value;

            // ê²Œì‹œë¬¼ ì¶”ê°€
            addPost(title, content);

            // í¼ ì´ˆê¸°í™”
            document.getElementById("title").value = '';
            document.getElementById("content").value = '';
        });

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ê²Œì‹œë¬¼ ëª©ë¡ í‘œì‹œ
        window.onload = function () {
            displayPosts();
        }
    </script>
</body>

</html>